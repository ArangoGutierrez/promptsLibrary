# Cursor Commands

Command library for Cursor IDE workflows with Claude AI.

## Quick Start

| Command | Purpose | When to Use |
|---------|---------|-------------|
| `/architect` | Explore architectural approaches | New features, complex design decisions |
| `/task` | Spec-first task execution | GitHub issues, planned work |
| `/export-plan` | Generate CLI execution file | Hand off to terminal implementation |
| `/review-cli-work` | Review terminal implementation | Validate CLI work back in Cursor |
| `/test` | Generate and run tests | TDD, coverage, validation |
| `/refactor` | Planned refactoring | Code cleanup, restructuring |
| `/audit` | Security and quality check | Pre-release, compliance |
| `/self-review` | Review your own changes | Before PR |
| `/git-polish` | Clean up commits | Before push |
| `/push` | Create PR | Ship work |

## Workflows

### ğŸ”„ Cursor â†” CLI Hybrid Workflow

**Plan in Cursor with Opus, Implement in Terminal with Sonnet**

See: [`workflows/cursor-to-cli.md`](../workflows/cursor-to-cli.md)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cursor (Opus)   â”‚ /architect "Add caching"
â”‚ - Architecture  â”‚ [Explore, prototype, decide]
â”‚ - Planning      â”‚ /export-plan
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
  .plans/plan-*.md
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Terminal        â”‚ claude code .plans/plan-*.md
â”‚ (Sonnet)        â”‚ [Implement, test, commit]
â”‚ - Implementationâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cursor (Opus)   â”‚ /review-cli-work
â”‚ - Review        â”‚ /git-polish â†’ /push
â”‚ - Polish        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Benefits**:
- âœ… Best model for each phase (Opus plans, Sonnet codes)
- âœ… 60% cost reduction on implementation
- âœ… Faster iteration in terminal
- âœ… Full review cycle in Cursor

### ğŸ“‹ Traditional Task Workflow

**Stay in Cursor for everything**

```
/task #123 --plan
[Specify, discuss approaches]

User: "GO"

[Implement, test, verify]

/self-review
/push
```

### ğŸ—ï¸ Architecture Exploration

```
/architect "Design notification system" --prototype 3

[Full pipeline: explore â†’ challenge â†’ prototype â†’ synthesize]

/export-plan         # If handing off to terminal
# OR
/task "Implement {approach}"  # If staying in Cursor
```

## Command Categories

### Planning & Architecture
- **`/architect`**: Full architectural exploration with prototyping
- **`/task --plan`**: Spec-first planning with approach selection
- **`/research`**: Deep research on technologies or patterns

### Implementation
- **`/task`**: Execute a task (ad-hoc or GitHub issue)
- **`/code`**: Direct implementation request
- **`/refactor`**: Planned code restructuring

### Testing & Quality
- **`/test`**: Test generation and execution
- **`/audit`**: Security and quality audit
- **`/self-review`**: Pre-PR review
- **`/quality`**: Code quality analysis

### Git & Collaboration
- **`/git-polish`**: Clean up commits before push
- **`/push`**: Create pull request
- **`/review-pr`**: Review someone else's PR

### Debugging
- **`/debug`**: Systematic debugging workflow

### Documentation
- **`/docs`**: Generate or update documentation

### Hybrid Workflow (New!)
- **`/export-plan`**: Generate CLI-ready execution file
- **`/review-cli-work`**: Review terminal implementation

### Utilities
- **`/context-reset`**: Clear context and restart
- **`/parallel`**: Run multiple agents in parallel
- **`/loop`**: Continuous development loop

## Command Flags

### Common Flags

| Flag | Commands | Purpose |
|------|----------|---------|
| `--plan` | `/task` | Plan first, await "GO" |
| `--tdd` | `/task` | Test-first development |
| `--quick` | `/architect` | Skip prototyping |
| `--export` | `/architect`, `/task`, `/refactor` | Generate CLI file |
| `--prototype N` | `/architect` | Prototype top N approaches |

## File Outputs

### `.plans/` Directory
Generated by `/export-plan` and related commands:

```
.plans/
  â”œâ”€â”€ plan-arch-{timestamp}.md      # Architecture decisions
  â”œâ”€â”€ plan-task-{timestamp}.md      # Task specifications
  â””â”€â”€ plan-refactor-{timestamp}.md  # Refactor plans
```

**Usage**: `claude code .plans/plan-*.md`

### `.prototypes/` Directory
Generated by `/architect`:

```
.prototypes/
  â”œâ”€â”€ approach-1/    # First prototype
  â”œâ”€â”€ approach-2/    # Second prototype
  â””â”€â”€ approach-3/    # Third prototype (if --prototype 3)
```

## Integration Patterns

### GitHub Issues
```bash
/task #456          # Fetch and execute
/task #456 --plan   # Fetch, plan, await "GO"
/task #456 --export # Plan, generate CLI file
```

### Architecture â†’ Implementation
```bash
# Cursor
/architect "Add feature X" --export

# Terminal
claude code .plans/plan-arch-*.md

# Cursor
/review-cli-work
```

### Continuous Improvement
```bash
/loop "Implement all P0 tasks"
# Agent works continuously, asks for approval
```

## Best Practices

### When to Use Hybrid (Cursor + CLI)

âœ… **Use hybrid for**:
- Complex features (architecture in Cursor, implementation in CLI)
- Cost-sensitive projects (plan with Opus, code with Sonnet)
- Long implementation sessions (faster in terminal)

âŒ **Stay in Cursor for**:
- Quick fixes
- Exploratory work
- Tight feedback loops

### Command Sequences

**Feature development**:
```
/architect â†’ /export-plan â†’ [terminal] â†’ /review-cli-work â†’ /push
```

**Bug fix**:
```
/debug â†’ /test â†’ /self-review â†’ /push
```

**Refactor**:
```
/refactor â†’ /export-plan â†’ [terminal] â†’ /review-cli-work â†’ /audit â†’ /push
```

**Research spike**:
```
/research â†’ /architect --quick â†’ /task "Implement findings"
```

## Troubleshooting

### Plan file not found
```bash
ls .plans/
/review-cli-work .plans/plan-arch-20260127-143022.md
```

### Command not working
1. Check you're using the command correctly (see command file)
2. Ensure you have necessary context (files open, etc.)
3. Try `/context-reset` if context is stale

### Implementation diverged from plan
```
/review-cli-work
# Shows what diverged
# Fix in Cursor or continue in terminal
```

## Writing New Commands

See [`_TEMPLATE.md`](./_TEMPLATE.md) for command structure.

**Command anatomy**:
```markdown
# Command Name

Brief description

## Usage
- Syntax options
- Flags

## Workflow
Step-by-step process

## Output Format
Expected results

## Integration
How it works with other commands
```

## Further Reading

- **Hybrid Workflow**: [`workflows/cursor-to-cli.md`](../workflows/cursor-to-cli.md)
- **Agent Models**: [`claude/docs/guides/testing-agent-models.md`](../../claude/docs/guides/testing-agent-models.md)
- **Migration Guide**: [`claude/docs/migration/complete-guide.md`](../../claude/docs/migration/complete-guide.md)
